erDiagram
    %% Entidades principales del sistema
    CLIENTES {
        string Codigo PK "Código único del cliente (7 dígitos)"
        string NombreFantasia "Nombre comercial/fantasía"
        boolean DesHabilitado "Estado activo/inactivo"
        string Direccion "Dirección física"
        string DirNumero "Número de la dirección"
        string Piso "Piso"
        string Departamento "Departamento"
        string Barrio "Barrio"
        string Ciudad "Ciudad"
        string CodigoPostal "Código postal"
        string Telefono "Teléfono"
        string Email "Correo electrónico"
        string Provincia "Provincia"
        string TipoIva "Tipo de IVA"
        string Cuit "CUIT"
        string IngBrutos "Ingresos brutos"
        datetime FechaAlta "Fecha de alta"
        string Observaciones "Observaciones"
        string IDENTIFICADOR "Identificador único (6 dígitos)"
        string Apellido "Apellido"
        string Nombre "Nombre"
        string ID_COMERCIO_INDUSTRIA "ID comercio/industria"
        string RazonSocial "Razón social"
        string DOCUMENTO "Número de documento"
        string Posedor "Posedor del bien"
    }

    CLIENTESCTACTE {
        int IdTrans PK "ID único de transacción"
        string Codigo FK "Código del cliente"
        datetime Fecha "Fecha del movimiento"
        string CodMovim "Código de movimiento"
        string Detalle "Detalle del movimiento"
        string Letra "Letra del comprobante"
        string Id "ID del comprobante"
        money Importe "Importe original"
        money Saldo "Saldo pendiente"
        string TipoMovim "Tipo de movimiento"
        string TipoFPago "Tipo de forma de pago"
        datetime FechaVto "Fecha de vencimiento"
        money Operacion "Número de operación"
        string CuentaContable "Cuenta contable"
        string IDENTIFICADOR "Identificador del cliente"
        string NRO_INTERNO "Número interno"
        string ID_BIEN "ID del bien gravado"
        string TIPO_BIEN "Tipo de bien (ININ/AUAU/OBSA/etc)"
        string TIPO_PLAN "Tipo de plan de pago"
        string TIPO_CUOTA "Tipo de cuota"
        string ANO_CUOTA "Año de la cuota"
        string NRO_CUOTA "Número de cuota"
        string ESTADO_DEUDA "Estado de la deuda"
        datetime FECHA_ACTUALIZACION_DEUDA "Fecha de actualización"
        string NRO_OPERACION "Número de operación"
        string Categoria "Categoría"
        string Ejercicio "Ejercicio fiscal"
        string Dominio "Dominio del vehículo"
        string TablaLiq "Tabla de liquidación"
        string MOF "MOF"
        string LOF "LOF"
    }

    COBROSCTACTE {
        int IdTrans PK "ID único de transacción"
        string Codigo FK "Código del cliente"
        datetime Fecha "Fecha del cobro"
        string CodMovim "Código de movimiento"
        string Detalle "Detalle del cobro"
        money Importe "Importe cobrado"
        money Saldo "Saldo resultante"
        string TipoMovim "Tipo de movimiento"
        datetime FechaPago "Fecha de pago"
        string NUMERO "Número de recibo/documento"
        string NRO_RECIBO "Número de recibo"
        string ID_BIEN "ID del bien"
        string TIPO_BIEN "Tipo de bien"
        string ANO_CUOTA "Año de la cuota"
        string NRO_CUOTA "Número de cuota"
        string Ejercicio "Ejercicio fiscal"
        string Dominio "Dominio del vehículo"
        string TablaLiq "Tabla de liquidación origen"
    }

    CATASTRO {
        int IdTrans PK "ID único de transacción"
        string ID_CATASTRO "ID del catastro (6 dígitos)"
        string IDENTIFICADOR "Identificador del propietario"
        string Codigo FK "Código del cliente"
        string CODIGO_CALLE "Código de la calle"
        string CODIGO_POSTAL_AUXILIAR "Código postal auxiliar"
        string NRO_RENTA "Número de renta"
        string CALLE_NOCOD "Nombre de la calle"
        string NUMERACION_CALLE "Número de la calle"
        string PISO "Piso"
        string BARRIO "Barrio"
        string DEPARTAMENTO "Departamento"
        money SUPERFICIE_TERRENO "Superficie del terreno"
        money COEFICIENTE_FRENTE_FONDO "Coeficiente frente/fondo"
        money PORCENTAJE_COPROPIEDAD "Porcentaje de copropiedad"
        string DESIGNACION_OFICIAL "Designación oficial"
        string FOLIO1 "Folio registro 1"
        string ANO1 "Año registro 1"
        string BALDIO_EDIFICADO "Estado: baldío/edificado"
        money BASE_IMPONIBLE "Base imponible"
        money TASACION_TERRENO "Tasación del terreno"
        money METROS_FRENTE "Metros de frente"
        money FRENTE_CONTRIBUCION "Frente de contribución"
        money COEF_IRREGULARIDAD "Coeficiente de irregularidad"
        money VALOR_TERRENO "Valor del terreno"
        money VALOR_EDIFICADO "Valor edificado"
        string EJIDO "Ejido"
        datetime FEC_ESCRITURA "Fecha de escritura"
        string CONDICION_TERRENO "Condición del terreno"
        money METROS_FONDO "Metros de fondo"
        int UNIDADES_LOCATIVAS "Unidades locativas"
        datetime Fecha "Fecha de registro"
        string LIQUIDA "Indica si liquida (S/N)"
        string CLAVE_BIEN "Clave del bien"
        string EXENCION "Código de exención"
        datetime FechaAlta "Fecha de alta"
        string DEP "Departamento"
        string PED "Pedanía"
        string PUE "Pueblo"
        string CIR "Circunscripción"
        string SEC "Sección"
        string MAN "Manzana"
        string PAR "Parcela"
        string PH "PH"
        int DV "Dígito verificador"
        string DOMINIO "Dominio (para identificación)"
        datetime FechaBaja "Fecha de baja"
        money Descuento "Descuento aplicable"
    }

    AUTOMOTORES {
        int IdTrans PK "ID único de transacción"
        string IDENTIFICADOR "Identificador del propietario"
        string Codigo FK "Código del cliente"
        string ID_AUTOMOTOR "ID del automotor (6 dígitos)"
        string TIPO_CATEGORIA_AUTOMOTOR "Tipo de categoría (2 dígitos)"
        string CIP "Código CIP"
        string ANO_VALUACION "Año de valuación"
        string MODELO_AUTOMOTOR "Modelo del automotor"
        string NRO_MOTOR "Número de motor"
        string NRO_CHASIS "Número de chasis"
        string CERTIFICADO_FABRICACION "Certificado de fabricación"
        string NRO_ADUANA "Número de aduana"
        string MARCA_VEHICULO "Marca del vehículo"
        string DESCRIPCION_INDIVIDUAL "Descripción individual"
        int PESO_CILINDRADA "Peso/cilindrada"
        string IMPORTADO "Importado (S/N)"
        string DOMINIO "Dominio del vehículo"
        string VIM "VIM"
        string TIPO_ALTA "Tipo de alta"
        money VALOR_FACTURA "Valor según factura"
        money CARGA "Carga del vehículo"
        string SUBESCALA "Subescala"
        datetime Fecha "Fecha de registro"
        money BASE_IMP_CALC "Base imponible calculada"
        string LIQUIDA "Indica si liquida (S/N)"
        string ID_AUTOMOTORPGM "ID automotor PGM"
        datetime FechaAlta "Fecha de alta"
        string EXENCION "Código de exención"
        money Valuacion2023 "Valuación 2023"
        money Valuacion2024 "Valuación 2024"
        datetime FechaBaja "Fecha de baja"
    }

    AGUA2025 {
        string Codigo FK "Código del cliente"
        datetime Fecha "Fecha del movimiento"
        string CodMovim "Código de movimiento"
        string Detalle "Detalle del movimiento"
        money Importe "Importe"
        money Saldo "Saldo pendiente"
        string TipoMovim "Tipo de movimiento"
        datetime FechaVto "Fecha de vencimiento"
        string IDENTIFICADOR "Identificador del cliente"
        string ID_BIEN "ID del servicio de agua"
        string TIPO_BIEN "Tipo de bien"
        string ANO_CUOTA "Año de la cuota"
        string NRO_CUOTA "Número de cuota"
        string ESTADO_DEUDA "Estado de la deuda"
        datetime FECHA_ACTUALIZACION_DEUDA "Fecha de actualización"
        string Categoria "Categoría del servicio"
        string TablaLiq "Tabla de liquidación"
        string Ejercicio "Ejercicio fiscal"
    }

    AGUACLIENTES {
        int IdTrans PK "ID único"
        string CODIGO_CATEGORIA "Código de categoría"
        string ID_AGUA "ID del servicio de agua"
        string Codigo FK "Código del cliente"
        string Liquida "Indica si liquida"
        string EXENCION "Código de exención"
        text OBSERVACIONES "Observaciones"
        string CATASTRO "Número de catastro 1"
        string CATASTRO2 "Número de catastro 2"
    }

    AGUASERVICIOS {
        int IdTrans PK "ID único"
        string CODIGO_AGUA "Código del servicio"
        string CONCEPTO "Concepto del servicio"
        money VALOR1 "Valor 1"
        money VALOR2 "Valor 2"
    }

    LIQUIDACIONES {
        int id_liquidaciones PK "ID único de liquidación"
        string Descripcion_liq "Descripción de la liquidación"
        string Cuenta_contable "Cuenta contable"
        datetime Fecha_vencimiento "Fecha de vencimiento"
        datetime Fecha_creada "Fecha de creación"
        string Nombre_liq "Nombre de la liquidación"
        string Memo_liq "Memo descriptivo"
        string Formula "Fórmula de cálculo"
        string CodMovim "Código de movimiento"
        string CodigoBien "Código del bien"
        string Cuenta_contableV "Cuenta contable venta"
        string Cuenta_contableAC "Cuenta contable actualización"
        string DetalleBien "Detalle del bien"
    }

    DEVENGAMIENTOS {
        bigint id_devenga PK "ID único de devengamiento"
        string Descripcion_dev "Descripción del devengamiento"
        datetime Fecha_creada "Fecha de creación"
        datetime Fecha_vto "Fecha de vencimiento"
        int Cuotas_dev "Cantidad de cuotas"
        int Dias_dev "Días del devengamiento"
        string Nombre_dev "Nombre del devengamiento"
        string Formula_dev "Fórmula de devengamiento"
        string Memo_dev "Memo descriptivo"
        datetime Fecha_Cierre "Fecha de cierre"
        int Primer_cuota "Primera cuota"
        string TablaLiq "Tabla de liquidación"
    }

    BANCOSLIBROS {
        int IdTrans PK "ID único"
        string Codigo "Código del banco"
        datetime Fecha "Fecha del movimiento"
        string CodMovim "Código de movimiento"
        string Detalle "Detalle del movimiento"
        string Numero "Número de comprobante"
        money Importe "Importe"
        string TipoMovim "Tipo de movimiento"
        datetime FechaReal "Fecha real"
        string NotaExplicativa "Nota explicativa"
        boolean Conciliado "Conciliado"
        money Controlado "Controlado"
        string CodigoChequera "Código de chequera"
        string ANombreDe "A nombre de"
        string TIPO_OPE_PGM "Tipo de operación PGM"
        string NRO_CTA_BCO "Número de cuenta bancaria"
        money MONTO_PAGADO "Monto pagado"
        string Moneda "Moneda"
        money Cotizacion "Cotización"
        string Observaciones "Observaciones"
        string CuentaContable "Cuenta contable"
        string Ejercicio "Ejercicio fiscal"
    }

    BANCOS {
        string Codigo PK "Código del banco"
        string RazonSocial "Razón social del banco"
        string NroCuenta "Número de cuenta"
        string TipoCuenta "Tipo de cuenta"
        string CodigoObligacion "Código de obligación"
        string Direccion "Dirección"
        string Ciudad "Ciudad"
        string Telefono "Teléfono"
        string Cuit "CUIT del banco"
        money SaldoActual "Saldo actual"
        string BANCOPGM "Banco PGM"
        string CBU_BA "CBU"
    }

    DATOSGENERALES {
        string RazonSocial PK "Razón social del municipio"
        string NombreFantasia "Nombre fantasía"
        string Direccion "Dirección"
        string Ciudad "Ciudad"
        string Provincia "Provincia"
        string CodigoPostal "Código postal"
        string Telefono "Teléfono"
        string Cuit "CUIT"
        string IngBrutos "Ingresos brutos"
        int MesApertura "Mes de apertura"
        string Sucursal "Sucursal"
        datetime FechaInicioActividades "Fecha de inicio"
        date FechaPagoTotal "Fecha de pago total"
        int DiasCuotaUnica "Días cuota única"
        int TasaDescuento "Tasa de descuento"
        int TasaInteres "Tasa de interés"
        string EjercicioCerrado "Ejercicio cerrado"
        string EjercicioActual "Ejercicio actual"
        datetime FechaDeCaja "Fecha de caja"
        string WebPagos "Web de pagos"
        string Impresora "Impresora predeterminada"
    }

    ACCESOUSUARIOS {
        string IdUsuario PK "ID del usuario"
        string Detalle "Detalle del usuario"
        string PassWord "Contraseña"
        boolean Habilitado "Usuario habilitado"
        string EMail "Correo electrónico"
        boolean ControlIngreso_AU "Control de ingreso"
        string Impresora "Impresora del usuario"
        string ImpresoraCaja "Impresora de caja"
    }

    %% Relaciones principales
    CLIENTES ||--o{ CLIENTESCTACTE : "genera"
    CLIENTES ||--o{ COBROSCTACTE : "recibe_pagos"
    CLIENTES ||--o{ CATASTRO : "posee_inmuebles"
    CLIENTES ||--o{ AUTOMOTORES : "posee_vehiculos"
    CLIENTES ||--o{ AGUA2025 : "tiene_servicio"
    CLIENTES ||--o{ AGUACLIENTES : "contrata_agua"
    
    AGUACLIENTES ||--o{ AGUASERVICIOS : "utiliza_servicios"
    
    LIQUIDACIONES ||--o{ DEVENGAMIENTOS : "genera_devengas"
    LIQUIDACIONES ||--o{ CLIENTESCTACTE : "origina_deuda"
    
    BANCOS ||--o{ BANCOSLIBROS : "registra_movimientos"
    
    BANCOSLIBROS }o--|| COBROSCTACTE : "registra_cobro"